--------- node 3----------
hl@hlnode3:/opt/s4/apache-s4-0.6.0-incubating-src$ 
hl@hlnode3:/opt/s4/apache-s4-0.6.0-incubating-src$ . ~/scripts/startNode.sh
20:45:01.968 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - New session:91706952885731330; state is : SyncConnected
20:45:02.259 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - Successfully acquired task:Task-0 by hlnode3
20:45:16.790 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Initializing S4 app with : []]
20:45:17.847 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loading application [SamoaS4App] from file [/tmp/tmp3962045501088559098s4r]
20:45:17.848 [S4 platform loader] WARN  org.apache.s4.core.DefaultCoreModule - s4.tmp.dir not specified, using temporary directory [/tmp/1399337117848-0] for unpacking S4R. You may want to specify a parent non-temporary directory.
20:45:17.850 [S4 platform loader] INFO  o.a.s4.base.util.S4RLoaderFactory - Unzipping S4R archive in [/tmp/1399337117848-0/tmp3962045501088559098s4r-1399337117849]
20:45:17.954 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - App class name is: com.yahoo.labs.samoa.topology.impl.S4DoTask
20:45:18.227 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:45:18.251 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.comm.tcp.TCPEmitter@17504cb
20:45:18.526 [S4 platform loader] INFO  o.a.s.c.s.ThrottlingSenderExecutorServiceFactory - Creating a throttling executor with a pool size of 1 and max rate of 200000 events / s
20:45:18.569 [S4 platform loader] INFO  org.apache.s4.core.util.S4Metrics - Metrics reporting not configured
20:45:18.573 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.core.SenderImpl@186edfb
20:45:18.871 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706952885731330
20:45:18.886 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706952885731330
20:45:18.929 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:45:18.951 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loaded application from file /tmp/tmp3962045501088559098s4r
20:45:18.957 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - DoTaskApp onInit

SAMOA: Scalable Advanced Massive Online Analysis Platform 
Version: 0.0.1
Copyright: Copyright Yahoo! Inc 2013
Web: http://github.com/yahoo/samoa

20:45:19.602 [S4 platform loader] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - init(): trainRatio=0.2,testRatio=0.8
ARFF file URL=http://hlnode3/lab3/data/m10000.arff
20:45:19.844 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - ================================================
20:45:19.856 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Begin init NaiveBayes Classifier topology.
20:45:19.875 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Sucessfully initializing NaiveBayes classifier topology.
20:45:19.909 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4EntranceProcessingItem].
20:45:19.911 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:19.916 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:19.917 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:19.917 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - Starting DoTaskApp... App Partition [0]
20:45:20.029 [STREAM-0_PROCESSING-ITEM-0] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - newProcessor(), id=0,trainRatio=0.2,testRatio=0.8
20:45:20.030 [STREAM-0_PROCESSING-ITEM-0] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - onCreate:id=0,trainRatio=0.2,testRatio=0.8
20:45:20.073 [STREAM-1_PROCESSING-ITEM-1] INFO  c.y.l.s.l.c.hl.NBModelProcessor - NBModelProcessor created, id = 0
20:45:20.179 [STREAM-1_PROCESSING-ITEM-1] INFO  c.y.l.s.l.c.hl.NBModelProcessor - K=2,A=1172
20:45:30.873 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 4 seconds for 1000 instances
20:45:30.907 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 1,000
classified instances = 1,000
classifications correct (percent) = 81.7
Kappa Statistic (percent) = 63.275
Kappa Temporal Statistic (percent) = 63.105
20:45:35.039 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 4 seconds for 1000 instances
20:45:35.040 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 2,000
classified instances = 2,000
classifications correct (percent) = 82.1
Kappa Statistic (percent) = 64.11
Kappa Temporal Statistic (percent) = 64.307
20:45:38.881 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 3 seconds for 1000 instances
20:45:38.882 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 3,000
classified instances = 3,000
classifications correct (percent) = 81.933
Kappa Statistic (percent) = 63.807
Kappa Temporal Statistic (percent) = 63.818
20:45:42.606 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 3 seconds for 1000 instances
20:45:42.607 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 4,000
classified instances = 4,000
classifications correct (percent) = 81.95
Kappa Statistic (percent) = 63.912
Kappa Temporal Statistic (percent) = 63.846
20:45:46.332 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 3 seconds for 1000 instances
20:45:46.333 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 5,000
classified instances = 5,000
classifications correct (percent) = 81.9
Kappa Statistic (percent) = 63.796
Kappa Temporal Statistic (percent) = 63.537
20:45:50.179 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 3 seconds for 1000 instances
20:45:50.180 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 6,000
classified instances = 6,000
classifications correct (percent) = 82.1
Kappa Statistic (percent) = 64.23
Kappa Temporal Statistic (percent) = 63.753
20:45:53.720 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 3 seconds for 1000 instances
20:45:53.721 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 7,000
classified instances = 7,000
classifications correct (percent) = 81.957
Kappa Statistic (percent) = 63.924
Kappa Temporal Statistic (percent) = 63.423
hl@hlnode3:/opt/s4/apache-s4-0.6.0-incubating-src$ 

------- node 2 --------
hl@hlnode2:~$ . ~/scripts/startNode.sh
20:45:07.412 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - New session:91706952885731331; state is : SyncConnected
20:45:07.844 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - Successfully acquired task:Task-1 by hlnode2
20:45:16.491 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Initializing S4 app with : []]
20:45:18.266 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loading application [SamoaS4App] from file [/tmp/tmp4087685811168488705s4r]
20:45:18.268 [S4 platform loader] WARN  org.apache.s4.core.DefaultCoreModule - s4.tmp.dir not specified, using temporary directory [/tmp/1399337118268-0] for unpacking S4R. You may want to specify a parent non-temporary directory.
20:45:18.270 [S4 platform loader] INFO  o.a.s4.base.util.S4RLoaderFactory - Unzipping S4R archive in [/tmp/1399337118268-0/tmp4087685811168488705s4r-1399337118270]
20:45:18.379 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - App class name is: com.yahoo.labs.samoa.topology.impl.S4DoTask
20:45:18.655 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:45:18.693 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.comm.tcp.TCPEmitter@7c1a5a
20:45:19.047 [S4 platform loader] INFO  o.a.s.c.s.ThrottlingSenderExecutorServiceFactory - Creating a throttling executor with a pool size of 1 and max rate of 200000 events / s
20:45:19.100 [S4 platform loader] INFO  org.apache.s4.core.util.S4Metrics - Metrics reporting not configured
20:45:19.107 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.core.SenderImpl@11008e
20:45:19.206 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706952885731331
20:45:19.217 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706952885731331
20:45:19.250 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:45:19.260 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loaded application from file /tmp/tmp4087685811168488705s4r
20:45:19.262 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - DoTaskApp onInit

SAMOA: Scalable Advanced Massive Online Analysis Platform 
Version: 0.0.1
Copyright: Copyright Yahoo! Inc 2013
Web: http://github.com/yahoo/samoa

20:45:19.808 [S4 platform loader] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - init(): trainRatio=0.2,testRatio=0.8
ARFF file URL=http://hlnode3/lab3/data/m10000.arff
20:45:20.046 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - ================================================
20:45:20.048 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Begin init NaiveBayes Classifier topology.
20:45:20.066 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Sucessfully initializing NaiveBayes classifier topology.
20:45:20.093 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4EntranceProcessingItem].
20:45:20.099 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:20.100 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:20.101 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:45:20.103 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - Starting DoTaskApp... App Partition [1]
^C20:46:01.423 [New I/O  worker #3] ERROR org.apache.s4.comm.tcp.TCPEmitter - Unexpected exception
java.io.IOException: Connection reset by peer
	at sun.nio.ch.FileDispatcherImpl.read0(Native Method) ~[na:1.7.0_51]
	at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39) ~[na:1.7.0_51]
	at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223) ~[na:1.7.0_51]
	at sun.nio.ch.IOUtil.read(IOUtil.java:192) ~[na:1.7.0_51]
	at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379) ~[na:1.7.0_51]
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:59) ~[netty-3.5.11.Final.jar:na]
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:471) ~[netty-3.5.11.Final.jar:na]
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:332) ~[netty-3.5.11.Final.jar:na]
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35) ~[netty-3.5.11.Final.jar:na]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_51]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_51]
	at java.lang.Thread.run(Thread.java:744) [na:1.7.0_51]
20:46:01.445 [New I/O  worker #3] WARN  org.apache.s4.comm.tcp.TCPEmitter - Failed to send message to node {partition=0,port=12000,machineName=hlnode3,taskId=Task-0} (according to current cluster information)
20:46:01.447 [New I/O  worker #3] WARN  org.apache.s4.comm.tcp.TCPEmitter - Failed to send message to node {partition=0,port=12000,machineName=hlnode3,taskId=Task-0} (according to current cluster information)
20:46:01.449 [New I/O  worker #3] WARN  org.apache.s4.comm.tcp.TCPEmitter - Failed to send message to node {partition=0,port=12000,machineName=hlnode3,taskId=Task-0} (according to current cluster information)
20:46:01.451 [New I/O  worker #3] WARN  org.apache.s4.comm.tcp.TCPEmitter - Failed to send message to node {partition=0,port=12000,machineName=hlnode3,taskId=Task-0} (according to current cluster information)
hl@hlnode2:/opt/s4/apache-s4-0.6.0-incubating-src$ 
