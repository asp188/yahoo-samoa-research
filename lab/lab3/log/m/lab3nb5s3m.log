---------- node 3 ----------

. ~/scripts/startNode.sh
^Chl@hlnode3:/opt/s4/apache-s4-0.6.0-incubating-src$ . ~/scripts/startNode.sh
20:54:26.979 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - New session:91706991360802819; state is : SyncConnected
20:54:27.237 [main] INFO  o.a.s.comm.topology.AssignmentFromZK - Successfully acquired task:Task-0 by hlnode3
20:54:39.079 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Initializing S4 app with : []]
20:54:40.747 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loading application [SamoaS4App] from file [/tmp/tmp6796977104059119540s4r]
20:54:40.748 [S4 platform loader] WARN  org.apache.s4.core.DefaultCoreModule - s4.tmp.dir not specified, using temporary directory [/tmp/1399337680748-0] for unpacking S4R. You may want to specify a parent non-temporary directory.
20:54:40.751 [S4 platform loader] INFO  o.a.s4.base.util.S4RLoaderFactory - Unzipping S4R archive in [/tmp/1399337680748-0/tmp6796977104059119540s4r-1399337680750]
20:54:40.858 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - App class name is: com.yahoo.labs.samoa.topology.impl.S4DoTask
20:54:41.258 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=3,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:54:41.299 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.comm.tcp.TCPEmitter@18dbc96
20:54:41.752 [S4 platform loader] INFO  o.a.s.c.s.ThrottlingSenderExecutorServiceFactory - Creating a throttling executor with a pool size of 1 and max rate of 200000 events / s
20:54:41.841 [S4 platform loader] INFO  org.apache.s4.core.util.S4Metrics - Metrics reporting not configured
20:54:41.845 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Adding topology change listener:org.apache.s4.core.SenderImpl@17200ad
20:54:42.217 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706991360802819
20:54:42.227 [S4 platform loader] INFO  o.a.s4.comm.topology.ClustersFromZK - New session:91706991360802819
20:54:42.281 [S4 platform loader] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=3,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from null
20:54:42.292 [S4 platform loader] INFO  org.apache.s4.core.S4Bootstrap - Loaded application from file /tmp/tmp6796977104059119540s4r
20:54:42.301 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - DoTaskApp onInit

SAMOA: Scalable Advanced Massive Online Analysis Platform 
Version: 0.0.1
Copyright: Copyright Yahoo! Inc 2013
Web: http://github.com/yahoo/samoa

20:54:43.011 [S4 platform loader] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - init(): trainRatio=0.2,testRatio=0.8
ARFF file URL=http://hlnode3/lab3/data/m10000.arff
20:54:43.284 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - ================================================
20:54:43.297 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Begin init NaiveBayes Classifier topology.
20:54:43.316 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Sucessfully initializing NaiveBayes classifier topology.
20:54:43.349 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4EntranceProcessingItem].
20:54:43.356 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:43.357 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:43.357 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:43.357 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - Starting DoTaskApp... App Partition [0]
20:54:43.471 [STREAM-0_PROCESSING-ITEM-0] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - newProcessor(), id=0,trainRatio=0.2,testRatio=0.8
20:54:43.478 [STREAM-0_PROCESSING-ITEM-0] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - onCreate:id=0,trainRatio=0.2,testRatio=0.8
20:54:43.545 [STREAM-1_PROCESSING-ITEM-1] INFO  c.y.l.s.l.c.hl.NBModelProcessor - NBModelProcessor created, id = 0
20:54:43.663 [STREAM-1_PROCESSING-ITEM-1] INFO  c.y.l.s.l.c.hl.NBModelProcessor - K=2,A=1172
20:55:01.993 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 7 seconds for 1000 instances
20:55:02.050 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 1,000
classified instances = 1,000
classifications correct (percent) = 81
Kappa Statistic (percent) = 61.838
Kappa Temporal Statistic (percent) = 62.227
20:55:09.100 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 7 seconds for 1000 instances
20:55:09.108 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 2,000
classified instances = 2,000
classifications correct (percent) = 81.5
Kappa Statistic (percent) = 63.015
Kappa Temporal Statistic (percent) = 63.583
20:55:16.298 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 7 seconds for 1000 instances
20:55:16.299 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 3,000
classified instances = 3,000
classifications correct (percent) = 81.633
Kappa Statistic (percent) = 63.333
Kappa Temporal Statistic (percent) = 63.678
20:55:23.727 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 7 seconds for 1000 instances
20:55:23.729 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 4,000
classified instances = 4,000
classifications correct (percent) = 81.6
Kappa Statistic (percent) = 63.251
Kappa Temporal Statistic (percent) = 63.474
20:55:37.306 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - 13 seconds for 1000 instances
20:55:37.308 [STREAM-2_PROCESSING-ITEM-2] INFO  c.y.l.s.e.EvaluatorProcessor - evaluation instances = 5,000
classified instances = 5,000
classifications correct (percent) = 81.72
Kappa Statistic (percent) = 63.483
Kappa Temporal Statistic (percent) = 63.687
^C
Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread "S4 platform loader"
May 05, 2014 8:56:13 PM org.jboss.netty.channel.socket.nio.AbstractNioWorker
WARNING: Unexpected exception in the selector loop.
java.lang.OutOfMemoryError: Java heap space
	at java.util.jar.Attributes.read(Attributes.java:394)
	at java.util.jar.Manifest.read(Manifest.java:199)
	at java.util.jar.Manifest.<init>(Manifest.java:69)
	at java.util.jar.JarFile.getManifestFromReference(JarFile.java:185)
	at java.util.jar.JarFile.getManifest(JarFile.java:166)
	at sun.misc.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:779)
	at java.net.URLClassLoader.defineClass(URLClassLoader.java:416)
	at java.net.URLClassLoader.access$100(URLClassLoader.java:71)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:361)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)
	at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)
	at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:84)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.processSelectedKeys(AbstractNioWorker.java:471)
	at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:332)
	at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:35)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:744)


----------- node 2 --------
SAMOA: Scalable Advanced Massive Online Analysis Platform 
Version: 0.0.1
Copyright: Copyright Yahoo! Inc 2013
Web: http://github.com/yahoo/samoa

20:54:42.313 [S4 platform loader] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - init(): trainRatio=0.2,testRatio=0.8
ARFF file URL=http://hlnode3/lab3/data/m10000.arff
20:54:42.554 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - ================================================
20:54:42.556 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Begin init NaiveBayes Classifier topology.
20:54:42.576 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Sucessfully initializing NaiveBayes classifier topology.
20:54:42.604 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4EntranceProcessingItem].
20:54:42.609 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.611 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.612 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.613 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - Starting DoTaskApp... App Partition [1]
20:56:04.787 [ZkClient-EventThread-9-hlnode3] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from { nbNodes=3,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]}

---------- node 1 ---------
SAMOA: Scalable Advanced Massive Online Analysis Platform 
Version: 0.0.1
Copyright: Copyright Yahoo! Inc 2013
Web: http://github.com/yahoo/samoa

20:54:42.413 [S4 platform loader] INFO  c.y.l.s.s.hl.HLSplitDataPreProcessor - init(): trainRatio=0.2,testRatio=0.8
ARFF file URL=http://hlnode3/lab3/data/m10000.arff
20:54:42.631 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - ================================================
20:54:42.638 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Begin init NaiveBayes Classifier topology.
20:54:42.661 [S4 platform loader] INFO  c.y.l.s.l.classifiers.hl.NaiveBayes - Sucessfully initializing NaiveBayes classifier topology.
20:54:42.688 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4EntranceProcessingItem].
20:54:42.692 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.693 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.694 [S4 platform loader] INFO  org.apache.s4.core.App - Init prototype [com.yahoo.labs.samoa.topology.impl.S4ProcessingItem].
20:54:42.695 [S4 platform loader] INFO  c.y.l.samoa.topology.impl.S4DoTask - Starting DoTaskApp... App Partition [2]
20:56:04.348 [ZkClient-EventThread-9-hlnode3] INFO  o.a.s4.comm.topology.ClusterFromZK - Changing cluster topology to { nbNodes=2,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]} from { nbNodes=3,name=cluster,mode=unicast,type=,nodes=[{partition=2,port=12002,machineName=hlnode1,taskId=Task-2}, {partition=0,port=12000,machineName=hlnode3,taskId=Task-0}, {partition=1,port=12001,machineName=hlnode2,taskId=Task-1}]}
^Chl@hlnode1:/opt/s4/apache-s4-0.6.0-incubating-src$ 
